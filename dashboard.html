<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Jurnal Mengaji</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f3f4f6;
        }
        .sidebar {
            width: 250px;
            height: 100vh;
            position: fixed;
            background: linear-gradient(180deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
            transition: all 0.3s;
        }
        .main-content {
            margin-left: 250px;
            padding: 20px;
            transition: all 0.3s;
        }
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        .stat-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            padding: 20px;
            text-align: center;
            transition: transform 0.3s;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .nav-item {
            padding: 12px 20px;
            display: block;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 5px 0;
            transition: background 0.3s;
        }
        .nav-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        .active {
            background: rgba(255, 255, 255, 0.2);
        }
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
            }
            .main-content {
                margin-left: 70px;
            }
            .sidebar-text {
                display: none;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="p-5 text-center">
            <div class="bg-white p-2 rounded-full inline-block mb-3">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path d="M12 14l9-5-9-5-9 5 9 5z" />
                    <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222" />
                </svg>
            </div>
            <h1 class="text-xl font-bold sidebar-text">Jurnal Mengaji</h1>
            <p class="text-sm opacity-70 sidebar-text" id="userRole">Admin</p>
        </div>
        
        <nav class="mt-5">
            <a href="#" class="nav-item active">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
                </svg>
                <span class="sidebar-text">Dashboard</span>
            </a>
            
            <div id="adminMenu">
                <a href="#" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <span class="sidebar-text">Data Santri</span>
                </a>
                <a href="#" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
                    </svg>
                    <span class="sidebar-text">Jurnal Harian</span>
                </a>
                <a href="#" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                    </svg>
                    <span class="sidebar-text">Pencapaian</span>
                </a>
            </div>
            
            <div id="parentMenu" class="hidden">
                <a href="#" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                    </svg>
                    <span class="sidebar-text">Progress Anak</span>
                </a>
                <a href="#" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                    </svg>
                    <span class="sidebar-text">Jurnal Anak</span>
                </a>
            </div>
            
            <div class="absolute bottom-0 w-full p-5">
                <a href="#" onclick="logout()" class="nav-item">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                    </svg>
                    <span class="sidebar-text">Logout</span>
                </a>
            </div>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-2xl font-bold text-gray-800" id="dashboardTitle">Dashboard</h2>
            <div class="text-sm text-gray-600">
                <span id="currentDate"></span>
            </div>
        </div>

        <!-- Admin/Teacher Dashboard -->
        <div id="adminDashboard">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="stat-card">
                    <div class="bg-blue-100 p-3 rounded-full inline-block mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
                        </svg>
                    </div>
                    <h3 class="text-lg text-gray-700 mb-2">Total Santri</h3>
                    <p class="text-3xl font-bold text-blue-600">24</p>
                </div>
                
                <div class="stat-card">
                    <div class="bg-green-100 p-3 rounded-full inline-block mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                        </svg>
                    </div>
                    <h3 class="text-lg text-gray-700 mb-2">Total Jurnal</h3>
                    <p class="text-3xl font-bold text-green-600">156</p>
                </div>
                
                <div class="stat-card">
                    <div class="bg-purple-100 p-3 rounded-full inline-block mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                        </svg>
                    </div>
                    <h3 class="text-lg text-gray-700 mb-2">Pencapaian</h3>
                    <p class="text-3xl font-bold text-purple-600">42</p>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="card">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Aktivitas Santri Terbaru</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="bg-blue-100 p-2 rounded-full mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium">Ahmad menyelesaikan Surah Al-Fatihah</p>
                                <p class="text-sm text-gray-500">2 jam yang lalu</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="bg-green-100 p-2 rounded-full mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium">Siti mencapai target hafalan</p>
                                <p class="text-sm text-gray-500">5 jam yang lalu</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="bg-purple-100 p-2 rounded-full mr-3">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                                </svg>
                            </div>
                            <div>
                                <p class="font-medium">Budi memperbarui jurnal mengaji</p>
                                <p class="text-sm text-gray-500">Kemarin</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Statistik Bulanan</h3>
                    <div class="bg-gray-100 h-48 rounded-lg flex items-center justify-center">
                        <p class="text-gray-500">Grafik statistik akan ditampilkan di sini</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Parent Dashboard -->
        <div id="parentDashboard" class="hidden">
            <div class="card mb-6">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Progress Anak</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <p class="text-gray-700"><span class="font-semibold">Nama:</span> Ahmad Farhan</p>
                        <p class="text-gray-700 mt-2"><span class="font-semibold">Kelas:</span> TPQ Al-Falah</p>
                        <p class="text-gray-700 mt-2"><span class="font-semibold">Guru:</span> Ustadz Rahman</p>
                    </div>
                    <div>
                        <p class="text-gray-700"><span class="font-semibold">Capaian Terakhir:</span> Surah Al-Fatihah</p>
                        <p class="text-gray-700 mt-2"><span class="font-semibold">Progress Tahfidz:</span> Juz 30 (75%)</p>
                        <p class="text-gray-700 mt-2"><span class="font-semibold">Target Bulan Ini:</span> Surah Al-Ikhlas</p>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-1 gap-6">
                <div class="card">
                    <h3 class="text-xl font-semibold text-gray-800 mb-4">Jurnal Harian Terbaru</h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-blue-600">12 April 2023</h4>
                            <p class="mt-1 text-gray-700">Hari ini Ahmad sudah mengulang Surah Al-Falaq dan An-Nas dengan lancar. Guru memberikan nilai baik untuk tajwid dan kelancaran.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-blue-600">11 April 2023</h4>
                            <p class="mt-1 text-gray-700">Ahmad mulai belajar Surah Al-Kafirun dan sudah bisa membaca dengan baik. Namun masih perlu memperbaiki makhraj huruf.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-blue-600">10 April 2023</h4>
                            <p class="mt-1 text-gray-700">Hari ini fokus pada memperbaiki tajwid pada Surah Al-Maun. Ahmad menunjukkan peningkatan yang signifikan.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Ambil data user dari localStorage
            const userData = JSON.parse(localStorage.getItem('user'));
            
            if (!userData) {
                // Redirect ke login jika tidak ada data user
                window.location.href = 'index.html';
                return;
            }
            
            // Tampilkan data user
            document.getElementById('userRole').textContent = userData.role;
            document.getElementById('dashboardTitle').textContent = `Dashboard ${userData.role}`;
            
            // Tampilkan dashboard sesuai role
            if (userData.role === 'admin' || userData.role === 'guru') {
                document.getElementById('adminDashboard').classList.remove('hidden');
                document.getElementById('adminMenu').classList.remove('hidden');
                document.getElementById('parentMenu').classList.add('hidden');
                document.getElementById('parentDashboard').classList.add('hidden');
            } else if (userData.role === 'wali') {
                document.getElementById('adminDashboard').classList.add('hidden');
                document.getElementById('adminMenu').classList.add('hidden');
                document.getElementById('parentMenu').classList.remove('hidden');
                document.getElementById('parentDashboard').classList.remove('hidden');
            }
            
            // Tampilkan tanggal hari ini
            const today = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = today.toLocaleDateString('id-ID', options);
        });
        
        function logout() {
            localStorage.removeItem('user');
            window.location.href = 'index.html';
        }
    </script>
</body>
</html>
